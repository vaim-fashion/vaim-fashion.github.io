import{aL as je,aE as Ye,az as Ke,aX as Qe}from"./index-b4c6c90b.js";import{ap as X,I as D,aq as tt,ar as Je,as as Se,D as nt,ae as tr,at as er,au as rr,av as ar,ai as nr,a7 as z,aw as ir,ax as or,m as P,ay as sr,az as Gt,aA as Le,aB as dt,aC as lr,aD as vr,aE as ur,an as Xt,aF as Z,_ as B,a3 as Pt,aG as fr,aH as q,y as V,aI as dr,aJ as cr,aK as hr,aL as gr,aM as Mt,aN as pr,aO as Ct,aP as qt,aQ as yr,aR as xr,aS as ct,am as _e,aT as mr,j as Ar,aU as ht,aV as Mr,aW as jt,aX as Yt,aY as Cr,aZ as Ir,a_ as Tr,a$ as It,b0 as Kt,a9 as it,G as br,b1 as Dr,b2 as Sr,a as Tt,b3 as Lr,b4 as _r,b5 as Qt,b6 as Jt,a4 as Ee,N as te,b7 as Er,b8 as wr,E as ee,$ as re,b9 as ae,d as ne,ba as ie,i as Rt,ad as bt,bb as Gr,P as Pr,bc as st,bd as we,be as j,bf as kt,bg as Rr,bh as kr,bi as Or,v as ot,bj as Ot,bk as et,bl as gt,bm as oe,bn as Nr,bo as Vr}from"./installCanvasRenderer-1be3df37.js";const Br={},Fr={class:"card"};function Zr(e,t){return Ye(),Ke("div",Fr,[Qe(e.$slots,"default",{},void 0,!0)])}const un=je(Br,[["render",Zr],["__scopeId","data-v-c068fcc6"]]);var zr=function(){function e(t){this.coordSysDims=[],this.axisMap=tt(),this.categoryAxisMap=tt(),this.coordSysName=t}return e}();function Hr(e){var t=e.get("coordinateSystem"),r=new zr(t),n=Wr[t];if(n)return n(e,r,r.axisMap,r.categoryAxisMap),r}var Wr={cartesian2d:function(e,t,r,n){var a=e.getReferringComponents("xAxis",X).models[0],i=e.getReferringComponents("yAxis",X).models[0];t.coordSysDims=["x","y"],r.set("x",a),r.set("y",i),Y(a)&&(n.set("x",a),t.firstCategoryDimIndex=0),Y(i)&&(n.set("y",i),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,r,n){var a=e.getReferringComponents("singleAxis",X).models[0];t.coordSysDims=["single"],r.set("single",a),Y(a)&&(n.set("single",a),t.firstCategoryDimIndex=0)},polar:function(e,t,r,n){var a=e.getReferringComponents("polar",X).models[0],i=a.findAxisModel("radiusAxis"),o=a.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],r.set("radius",i),r.set("angle",o),Y(i)&&(n.set("radius",i),t.firstCategoryDimIndex=0),Y(o)&&(n.set("angle",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(e,t,r,n){t.coordSysDims=["lng","lat"]},parallel:function(e,t,r,n){var a=e.ecModel,i=a.getComponent("parallel",e.get("parallelIndex")),o=t.coordSysDims=i.dimensions.slice();D(i.parallelAxisIndex,function(s,v){var l=a.getComponent("parallelAxis",s),u=o[v];r.set(u,l),Y(l)&&(n.set(u,l),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=v))})}};function Y(e){return e.get("type")==="category"}function Ur(e,t){var r=e.get("coordinateSystem"),n=or.get(r),a;return t&&t.coordSysDims&&(a=P(t.coordSysDims,function(i){var o={name:i},s=t.axisMap.get(i);if(s){var v=s.get("type");o.type=sr(v)}return o})),a||(a=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),a}function $r(e,t,r){var n,a;return r&&D(e,function(i,o){var s=i.coordDim,v=r.categoryAxisMap.get(s);v&&(n==null&&(n=o),i.ordinalMeta=v.getOrdinalMeta(),t&&(i.createInvertedIndices=!0)),i.otherDims.itemName!=null&&(a=!0)}),!a&&n!=null&&(e[n].otherDims.itemName=0),n}function fn(e,t,r){r=r||{};var n=t.getSourceManager(),a,i=!1;e?(i=!0,a=Je(e)):(a=n.getSource(),i=a.sourceFormat===Se);var o=Hr(t),s=Ur(t,o),v=r.useEncodeDefaulter,l=nt(v)?v:v?tr(er,s,t):null,u={coordDimensions:s,generateCoord:r.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:l,canOmitUnusedDimensions:!i},f=rr(a,u),c=$r(f.dimensions,r.createInvertedIndices,o),d=i?null:n.getSharedDataStore(f),h=ar(t,{schema:f,store:d}),g=new nr(f,t);g.setCalculationInfo(h);var p=c!=null&&Xr(a)?function(x,M,y,A){return A===c?y:this.defaultDimValueGetter(x,M,y,A)}:null;return g.hasItemOption=!1,g.initData(i?a:d,null,p),g}function Xr(e){if(e.sourceFormat===Se){var t=qr(e.data||[]);return!z(ir(t))}}function qr(e){for(var t=0;t<e.length&&e[t]==null;)t++;return e[t]}var jr=function(){function e(){}return e.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},e.prototype.getCoordSysModel=function(){},e}(),at=Gt();function Yr(e){return e.type==="category"?Qr(e):ta(e)}function Kr(e,t){return e.type==="category"?Jr(e,t):{ticks:P(e.scale.getTicks(),function(r){return r.value})}}function Qr(e){var t=e.getLabelModel(),r=Ge(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function Ge(e,t){var r=Pe(e,"labels"),n=Le(t),a=Re(r,n);if(a)return a;var i,o;return nt(n)?i=Ne(e,n):(o=n==="auto"?ea(e):n,i=Oe(e,o)),ke(r,n,{labels:i,labelCategoryInterval:o})}function Jr(e,t){var r=Pe(e,"ticks"),n=Le(t),a=Re(r,n);if(a)return a;var i,o;if((!t.get("show")||e.scale.isBlank())&&(i=[]),nt(n))i=Ne(e,n,!0);else if(n==="auto"){var s=Ge(e,e.getLabelModel());o=s.labelCategoryInterval,i=P(s.labels,function(v){return v.tickValue})}else o=n,i=Oe(e,o,!0);return ke(r,n,{ticks:i,tickCategoryInterval:o})}function ta(e){var t=e.scale.getTicks(),r=dt(e);return{labels:P(t,function(n,a){return{level:n.level,formattedLabel:r(n,a),rawLabel:e.scale.getLabel(n),tickValue:n.value}})}}function Pe(e,t){return at(e)[t]||(at(e)[t]=[])}function Re(e,t){for(var r=0;r<e.length;r++)if(e[r].key===t)return e[r].value}function ke(e,t,r){return e.push({key:t,value:r}),r}function ea(e){var t=at(e).autoInterval;return t??(at(e).autoInterval=e.calculateCategoryInterval())}function ra(e){var t=aa(e),r=dt(e),n=(t.axisRotate-t.labelRotate)/180*Math.PI,a=e.scale,i=a.getExtent(),o=a.count();if(i[1]-i[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var v=i[0],l=e.dataToCoord(v+1)-e.dataToCoord(v),u=Math.abs(l*Math.cos(n)),f=Math.abs(l*Math.sin(n)),c=0,d=0;v<=i[1];v+=s){var h=0,g=0,p=lr(r({value:v}),t.font,"center","top");h=p.width*1.3,g=p.height*1.3,c=Math.max(c,h,7),d=Math.max(d,g,7)}var x=c/u,M=d/f;isNaN(x)&&(x=1/0),isNaN(M)&&(M=1/0);var y=Math.max(0,Math.floor(Math.min(x,M))),A=at(e.model),C=e.getExtent(),m=A.lastAutoInterval,I=A.lastTickCount;return m!=null&&I!=null&&Math.abs(m-y)<=1&&Math.abs(I-o)<=1&&m>y&&A.axisExtent0===C[0]&&A.axisExtent1===C[1]?y=m:(A.lastTickCount=o,A.lastAutoInterval=y,A.axisExtent0=C[0],A.axisExtent1=C[1]),y}function aa(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function Oe(e,t,r){var n=dt(e),a=e.scale,i=a.getExtent(),o=e.getLabelModel(),s=[],v=Math.max((t||0)+1,1),l=i[0],u=a.count();l!==0&&v>1&&u/v>2&&(l=Math.round(Math.ceil(l/v)*v));var f=vr(e),c=o.get("showMinLabel")||f,d=o.get("showMaxLabel")||f;c&&l!==i[0]&&g(i[0]);for(var h=l;h<=i[1];h+=v)g(h);d&&h-v!==i[1]&&g(i[1]);function g(p){var x={value:p};s.push(r?p:{formattedLabel:n(x),rawLabel:a.getLabel(x),tickValue:p})}return s}function Ne(e,t,r){var n=e.scale,a=dt(e),i=[];return D(n.getTicks(),function(o){var s=n.getLabel(o),v=o.value;t(o.value,s)&&i.push(r?v:{formattedLabel:a(o),rawLabel:s,tickValue:v})}),i}var se=[0,1],na=function(){function e(t,r,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=r,this._extent=n||[0,0]}return e.prototype.contain=function(t){var r=this._extent,n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return t>=n&&t<=a},e.prototype.containData=function(t){return this.scale.contain(t)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(t){return ur(t||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(t,r){var n=this._extent;n[0]=t,n[1]=r},e.prototype.dataToCoord=function(t,r){var n=this._extent,a=this.scale;return t=a.normalize(t),this.onBand&&a.type==="ordinal"&&(n=n.slice(),le(n,a.count())),Xt(t,se,n,r)},e.prototype.coordToData=function(t,r){var n=this._extent,a=this.scale;this.onBand&&a.type==="ordinal"&&(n=n.slice(),le(n,a.count()));var i=Xt(t,n,se,r);return this.scale.scale(i)},e.prototype.pointToData=function(t,r){},e.prototype.getTicksCoords=function(t){t=t||{};var r=t.tickModel||this.getTickModel(),n=Kr(this,r),a=n.ticks,i=P(a,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=r.get("alignWithLabel");return ia(this,i,o,t.clamp),i},e.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),r=t.get("splitNumber");r>0&&r<100||(r=5);var n=this.scale.getMinorTicks(r),a=P(n,function(i){return P(i,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return a},e.prototype.getViewLabels=function(){return Yr(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var t=this._extent,r=this.scale.getExtent(),n=r[1]-r[0]+(this.onBand?1:0);n===0&&(n=1);var a=Math.abs(t[1]-t[0]);return Math.abs(a)/n},e.prototype.calculateCategoryInterval=function(){return ra(this)},e}();function le(e,t){var r=e[1]-e[0],n=t,a=r/n/2;e[0]+=a,e[1]-=a}function ia(e,t,r,n){var a=t.length;if(!e.onBand||r||!a)return;var i=e.getExtent(),o,s;if(a===1)t[0].coord=i[0],o=t[1]={coord:i[0]};else{var v=t[a-1].tickValue-t[0].tickValue,l=(t[a-1].coord-t[0].coord)/v;D(t,function(d){d.coord-=l/2});var u=e.scale.getExtent();s=1+u[1]-t[a-1].tickValue,o={coord:t[a-1].coord+l*s},t.push(o)}var f=i[0]>i[1];c(t[0].coord,i[0])&&(n?t[0].coord=i[0]:t.shift()),n&&c(i[0],t[0].coord)&&t.unshift({coord:i[0]}),c(i[1],o.coord)&&(n?o.coord=i[1]:t.pop()),n&&c(o.coord,i[1])&&t.push({coord:i[1]});function c(d,h){return d=Z(d),h=Z(h),f?d>h:d<h}}const oa=na;var sa=function(e){B(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(Pt);const la=sa;var Dt=function(e){B(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",X).models[0]},t.type="cartesian2dAxis",t}(Pt);fr(Dt,jr);var Ve={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},va=q({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Ve),Nt=q({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Ve),ua=q({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Nt),fa=V({logBase:10},Nt);const da={category:va,value:Nt,time:ua,log:fa};var ca={value:1,category:1,time:1,log:1};function ve(e,t,r,n){D(ca,function(a,i){var o=q(q({},da[i],!0),n,!0),s=function(v){B(l,v);function l(){var u=v!==null&&v.apply(this,arguments)||this;return u.type=t+"Axis."+i,u}return l.prototype.mergeDefaultAndTheme=function(u,f){var c=dr(this),d=c?cr(u):{},h=f.getTheme();q(u,h.get(i+"Axis")),q(u,this.getDefaultOption()),u.type=ue(u),c&&hr(u,d,c)},l.prototype.optionUpdated=function(){var u=this.option;u.type==="category"&&(this.__ordinalMeta=gr.createByAxisModel(this))},l.prototype.getCategories=function(u){var f=this.option;if(f.type==="category")return u?f.data:this.__ordinalMeta.categories},l.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},l.type=t+"Axis."+i,l.defaultOption=o,l}(r);e.registerComponentModel(s)}),e.registerSubTypeDefaulter(t+"Axis",ue)}function ue(e){return e.type||(e.data?"category":"value")}var ha=function(){function e(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return e.prototype.getAxis=function(t){return this._axes[t]},e.prototype.getAxes=function(){return P(this._dimList,function(t){return this._axes[t]},this)},e.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Mt(this.getAxes(),function(r){return r.scale.type===t})},e.prototype.addAxis=function(t){var r=t.dim;this._axes[r]=t,this._dimList.push(r)},e}();const ga=ha;var St=["x","y"];function fe(e){return e.type==="interval"||e.type==="time"}var pa=function(e){B(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=St,r}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!fe(r)||!fe(n))){var a=r.getExtent(),i=n.getExtent(),o=this.dataToPoint([a[0],i[0]]),s=this.dataToPoint([a[1],i[1]]),v=a[1]-a[0],l=i[1]-i[0];if(!(!v||!l)){var u=(s[0]-o[0])/v,f=(s[1]-o[1])/l,c=o[0]-a[0]*u,d=o[1]-i[0]*f,h=this._transform=[u,0,0,f,c,d];this._invTransform=pr([],h)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(r){var n=this.getAxis("x"),a=this.getAxis("y");return n.contain(n.toLocalCoord(r[0]))&&a.contain(a.toLocalCoord(r[1]))},t.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])},t.prototype.containZone=function(r,n){var a=this.dataToPoint(r),i=this.dataToPoint(n),o=this.getArea(),s=new Ct(a[0],a[1],i[0]-a[0],i[1]-a[1]);return o.intersect(s)},t.prototype.dataToPoint=function(r,n,a){a=a||[];var i=r[0],o=r[1];if(this._transform&&i!=null&&isFinite(i)&&o!=null&&isFinite(o))return qt(a,r,this._transform);var s=this.getAxis("x"),v=this.getAxis("y");return a[0]=s.toGlobalCoord(s.dataToCoord(i,n)),a[1]=v.toGlobalCoord(v.dataToCoord(o,n)),a},t.prototype.clampData=function(r,n){var a=this.getAxis("x").scale,i=this.getAxis("y").scale,o=a.getExtent(),s=i.getExtent(),v=a.parse(r[0]),l=i.parse(r[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(o[0],o[1]),v),Math.max(o[0],o[1])),n[1]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),n},t.prototype.pointToData=function(r,n){var a=[];if(this._invTransform)return qt(a,r,this._invTransform);var i=this.getAxis("x"),o=this.getAxis("y");return a[0]=i.coordToData(i.toLocalCoord(r[0]),n),a[1]=o.coordToData(o.toLocalCoord(r[1]),n),a},t.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")},t.prototype.getArea=function(){var r=this.getAxis("x").getGlobalExtent(),n=this.getAxis("y").getGlobalExtent(),a=Math.min(r[0],r[1]),i=Math.min(n[0],n[1]),o=Math.max(r[0],r[1])-a,s=Math.max(n[0],n[1])-i;return new Ct(a,i,o,s)},t}(ga),ya=function(e){B(t,e);function t(r,n,a,i,o){var s=e.call(this,r,n,a)||this;return s.index=0,s.type=i||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},t.prototype.getGlobalExtent=function(r){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),r&&n[0]>n[1]&&n.reverse(),n},t.prototype.pointToData=function(r,n){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),n)},t.prototype.setCategorySortInfo=function(r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=r,this.scale.setSortInfo(r)},t}(oa);const xa=ya;var pt=Math.log;function ma(e,t,r){var n=yr.prototype,a=n.getTicks.call(r),i=n.getTicks.call(r,!0),o=a.length-1,s=n.getInterval.call(r),v=xr(e,t),l=v.extent,u=v.fixMin,f=v.fixMax;if(e.type==="log"){var c=pt(e.base);l=[pt(l[0])/c,pt(l[1])/c]}e.setExtent(l[0],l[1]),e.calcNiceExtent({splitNumber:o,fixMin:u,fixMax:f});var d=n.getExtent.call(e);u&&(l[0]=d[0]),f&&(l[1]=d[1]);var h=n.getInterval.call(e),g=l[0],p=l[1];if(u&&f)h=(p-g)/o;else if(u)for(p=l[0]+h*o;p<l[1]&&isFinite(p)&&isFinite(l[1]);)h=ct(h),p=l[0]+h*o;else if(f)for(g=l[1]-h*o;g>l[0]&&isFinite(g)&&isFinite(l[0]);)h=ct(h),g=l[1]-h*o;else{var x=e.getTicks().length-1;x>o&&(h=ct(h));var M=h*o;p=Math.ceil(l[1]/h)*h,g=Z(p-M),g<0&&l[0]>=0?(g=0,p=Z(M)):p>0&&l[1]<=0&&(p=0,g=-Z(M))}var y=(a[0].value-i[0].value)/s,A=(a[o].value-i[o].value)/s;n.setExtent.call(e,g+h*y,p+h*A),n.setInterval.call(e,h),(y||A)&&n.setNiceExtent.call(e,g+h,p-h)}var Aa=function(){function e(t,r,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=St,this._initCartesian(t,r,n),this.model=t}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(t,r){var n=this._axesMap;this._updateScale(t,this.model);function a(o){var s,v=Tr(o),l=v.length;if(l){for(var u=[],f=l-1;f>=0;f--){var c=+v[f],d=o[c],h=d.model,g=d.scale;It(g)&&h.get("alignTicks")&&h.get("interval")==null?u.push(d):(Kt(g,h),It(g)&&(s=d))}u.length&&(s||(s=u.pop(),Kt(s.scale,s.model)),D(u,function(p){ma(p.scale,p.model,s.scale)}))}}a(n.x),a(n.y);var i={};D(n.x,function(o){de(n,"y",o,i)}),D(n.y,function(o){de(n,"x",o,i)}),this.resize(this.model,r)},e.prototype.resize=function(t,r,n){var a=t.getBoxLayoutParams(),i=!n&&t.get("containLabel"),o=_e(a,{width:r.getWidth(),height:r.getHeight()});this._rect=o;var s=this._axesList;v(),i&&(D(s,function(l){if(!l.model.get(["axisLabel","inside"])){var u=mr(l);if(u){var f=l.isHorizontal()?"height":"width",c=l.model.get(["axisLabel","margin"]);o[f]-=u[f]+c,l.position==="top"?o.y+=u.height+c:l.position==="left"&&(o.x+=u.width+c)}}}),v()),D(this._coordsList,function(l){l.calcAffineTransform()});function v(){D(s,function(l){var u=l.isHorizontal(),f=u?[0,o.width]:[0,o.height],c=l.inverse?1:0;l.setExtent(f[c],f[1-c]),Ma(l,u?o.x:o.y)})}},e.prototype.getAxis=function(t,r){var n=this._axesMap[t];if(n!=null)return n[r||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(t,r){if(t!=null&&r!=null){var n="x"+t+"y"+r;return this._coordsMap[n]}Ar(t)&&(r=t.yAxisIndex,t=t.xAxisIndex);for(var a=0,i=this._coordsList;a<i.length;a++)if(i[a].getAxis("x").index===t||i[a].getAxis("y").index===r)return i[a]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(t,r,n){var a=this._findConvertTarget(r);return a.cartesian?a.cartesian.dataToPoint(n):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(n)):null},e.prototype.convertFromPixel=function(t,r,n){var a=this._findConvertTarget(r);return a.cartesian?a.cartesian.pointToData(n):a.axis?a.axis.coordToData(a.axis.toLocalCoord(n)):null},e.prototype._findConvertTarget=function(t){var r=t.seriesModel,n=t.xAxisModel||r&&r.getReferringComponents("xAxis",X).models[0],a=t.yAxisModel||r&&r.getReferringComponents("yAxis",X).models[0],i=t.gridModel,o=this._coordsList,s,v;if(r)s=r.coordinateSystem,ht(o,s)<0&&(s=null);else if(n&&a)s=this.getCartesian(n.componentIndex,a.componentIndex);else if(n)v=this.getAxis("x",n.componentIndex);else if(a)v=this.getAxis("y",a.componentIndex);else if(i){var l=i.coordinateSystem;l===this&&(s=this._coordsList[0])}return{cartesian:s,axis:v}},e.prototype.containPoint=function(t){var r=this._coordsList[0];if(r)return r.containPoint(t)},e.prototype._initCartesian=function(t,r,n){var a=this,i=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},v={x:0,y:0};if(r.eachComponent("xAxis",l("x"),this),r.eachComponent("yAxis",l("y"),this),!v.x||!v.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,D(s.x,function(u,f){D(s.y,function(c,d){var h="x"+f+"y"+d,g=new pa(h);g.master=a,g.model=t,a._coordsMap[h]=g,a._coordsList.push(g),g.addAxis(u),g.addAxis(c)})});function l(u){return function(f,c){if(yt(f,t)){var d=f.get("position");u==="x"?d!=="top"&&d!=="bottom"&&(d=o.bottom?"top":"bottom"):d!=="left"&&d!=="right"&&(d=o.left?"right":"left"),o[d]=!0;var h=new xa(u,Mr(f),[0,0],f.get("type"),d),g=h.type==="category";h.onBand=g&&f.get("boundaryGap"),h.inverse=f.get("inverse"),f.axis=h,h.model=f,h.grid=i,h.index=c,i._axesList.push(h),s[u][c]=h,v[u]++}}}},e.prototype._updateScale=function(t,r){D(this._axesList,function(a){if(a.scale.setExtent(1/0,-1/0),a.type==="category"){var i=a.model.get("categorySortInfo");a.scale.setSortInfo(i)}}),t.eachSeries(function(a){if(jt(a)){var i=Yt(a),o=i.xAxisModel,s=i.yAxisModel;if(!yt(o,r)||!yt(s,r))return;var v=this.getCartesian(o.componentIndex,s.componentIndex),l=a.getData(),u=v.getAxis("x"),f=v.getAxis("y");n(l,u),n(l,f)}},this);function n(a,i){D(Cr(a,i.dim),function(o){i.scale.unionExtentFromData(a,o)})}},e.prototype.getTooltipAxes=function(t){var r=[],n=[];return D(this.getCartesians(),function(a){var i=t!=null&&t!=="auto"?a.getAxis(t):a.getBaseAxis(),o=a.getOtherAxis(i);ht(r,i)<0&&r.push(i),ht(n,o)<0&&n.push(o)}),{baseAxes:r,otherAxes:n}},e.create=function(t,r){var n=[];return t.eachComponent("grid",function(a,i){var o=new e(a,t,r);o.name="grid_"+i,o.resize(a,r,!0),a.coordinateSystem=o,n.push(o)}),t.eachSeries(function(a){if(jt(a)){var i=Yt(a),o=i.xAxisModel,s=i.yAxisModel,v=o.getCoordSysModel(),l=v.coordinateSystem;a.coordinateSystem=l.getCartesian(o.componentIndex,s.componentIndex)}}),n},e.dimensions=St,e}();function yt(e,t){return e.getCoordSysModel()===t}function de(e,t,r,n){r.getAxesOnZeroOf=function(){return i?[i]:[]};var a=e[t],i,o=r.model,s=o.get(["axisLine","onZero"]),v=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(v!=null)ce(a[v])&&(i=a[v]);else for(var l in a)if(a.hasOwnProperty(l)&&ce(a[l])&&!n[u(a[l])]){i=a[l];break}i&&(n[u(i)]=!0);function u(f){return f.dim+"_"+f.index}}function ce(e){return e&&e.type!=="category"&&e.type!=="time"&&Ir(e)}function Ma(e,t){var r=e.getExtent(),n=r[0]+r[1];e.toGlobalCoord=e.dim==="x"?function(a){return a+t}:function(a){return n-a+t},e.toLocalCoord=e.dim==="x"?function(a){return a-t}:function(a){return n-a+t}}const Ca=Aa;var Lt=Gt();function Ia(e,t,r,n){var a=r.axis;if(!a.scale.isBlank()){var i=r.getModel("splitArea"),o=i.getModel("areaStyle"),s=o.get("color"),v=n.coordinateSystem.getRect(),l=a.getTicksCoords({tickModel:i,clamp:!0});if(l.length){var u=s.length,f=Lt(e).splitAreaColors,c=tt(),d=0;if(f)for(var h=0;h<l.length;h++){var g=f.get(l[h].tickValue);if(g!=null){d=(g+(u-1)*h)%u;break}}var p=a.toGlobalCoord(l[0].coord),x=o.getAreaStyle();s=z(s)?s:[s];for(var h=1;h<l.length;h++){var M=a.toGlobalCoord(l[h].coord),y=void 0,A=void 0,C=void 0,m=void 0;a.isHorizontal()?(y=p,A=v.y,C=M-y,m=v.height,p=y+C):(y=v.x,A=p,C=v.width,m=M-A,p=A+m);var I=l[h-1].tickValue;I!=null&&c.set(I,d),t.add(new it({anid:I!=null?"area_"+I:null,shape:{x:y,y:A,width:C,height:m},style:V({fill:s[d]},x),autoBatch:!0,silent:!0})),d=(d+1)%u}Lt(e).splitAreaColors=c}}}function Ta(e){Lt(e).splitAreaColors=null}var ba=["axisLine","axisTickLabel","axisName"],Da=["splitArea","splitLine","minorSplitLine"],Be=function(e){B(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.axisPointerClass="CartesianAxisPointer",r}return t.prototype.render=function(r,n,a,i){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new br,this.group.add(this._axisGroup),!!r.get("show")){var s=r.getCoordSysModel(),v=Dr(s,r),l=new Sr(r,Tt({handleAutoShown:function(f){for(var c=s.coordinateSystem.getCartesians(),d=0;d<c.length;d++)if(It(c[d].getOtherAxis(r.axis).scale))return!0;return!1}},v));D(ba,l.add,l),this._axisGroup.add(l.getGroup()),D(Da,function(f){r.get([f,"show"])&&Sa[f](this,this._axisGroup,r,s)},this);var u=i&&i.type==="changeAxisOrder"&&i.isInitSort;u||Lr(o,this._axisGroup,r),e.prototype.render.call(this,r,n,a,i)}},t.prototype.remove=function(){Ta(this)},t.type="cartesianAxis",t}(_r),Sa={splitLine:function(e,t,r,n){var a=r.axis;if(!a.scale.isBlank()){var i=r.getModel("splitLine"),o=i.getModel("lineStyle"),s=o.get("color");s=z(s)?s:[s];for(var v=n.coordinateSystem.getRect(),l=a.isHorizontal(),u=0,f=a.getTicksCoords({tickModel:i}),c=[],d=[],h=o.getLineStyle(),g=0;g<f.length;g++){var p=a.toGlobalCoord(f[g].coord);l?(c[0]=p,c[1]=v.y,d[0]=p,d[1]=v.y+v.height):(c[0]=v.x,c[1]=p,d[0]=v.x+v.width,d[1]=p);var x=u++%s.length,M=f[g].tickValue,y=new Qt({anid:M!=null?"line_"+f[g].tickValue:null,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:d[0],y2:d[1]},style:V({stroke:s[x]},h),silent:!0});Jt(y.shape,h.lineWidth),t.add(y)}}},minorSplitLine:function(e,t,r,n){var a=r.axis,i=r.getModel("minorSplitLine"),o=i.getModel("lineStyle"),s=n.coordinateSystem.getRect(),v=a.isHorizontal(),l=a.getMinorTicksCoords();if(l.length)for(var u=[],f=[],c=o.getLineStyle(),d=0;d<l.length;d++)for(var h=0;h<l[d].length;h++){var g=a.toGlobalCoord(l[d][h].coord);v?(u[0]=g,u[1]=s.y,f[0]=g,f[1]=s.y+s.height):(u[0]=s.x,u[1]=g,f[0]=s.x+s.width,f[1]=g);var p=new Qt({anid:"minor_line_"+l[d][h].tickValue,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:f[0],y2:f[1]},style:c,silent:!0});Jt(p.shape,c.lineWidth),t.add(p)}},splitArea:function(e,t,r,n){Ia(e,t,r,n)}},Fe=function(e){B(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="xAxis",t}(Be),La=function(e){B(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=Fe.type,r}return t.type="yAxis",t}(Be),_a=function(e){B(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="grid",r}return t.prototype.render=function(r,n){this.group.removeAll(),r.get("show")&&this.group.add(new it({shape:r.coordinateSystem.getRect(),style:V({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(Ee),he={offset:0};function Ea(e){e.registerComponentView(_a),e.registerComponentModel(la),e.registerCoordinateSystem("cartesian2d",Ca),ve(e,"x",Dt,he),ve(e,"y",Dt,he),e.registerComponentView(Fe),e.registerComponentView(La),e.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function dn(e){te(Ea),te(Er)}var wa=function(e){B(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.layoutMode={type:"box",ignoreSize:!0},r}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(Pt),Ga=function(e){B(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,a){if(this.group.removeAll(),!!r.get("show")){var i=this.group,o=r.getModel("textStyle"),s=r.getModel("subtextStyle"),v=r.get("textAlign"),l=wr(r.get("textBaseline"),r.get("textVerticalAlign")),u=new ee({style:re(o,{text:r.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),f=u.getBoundingRect(),c=r.get("subtext"),d=new ee({style:re(s,{text:c,fill:s.getTextColor(),y:f.height+r.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),h=r.get("link"),g=r.get("sublink"),p=r.get("triggerEvent",!0);u.silent=!h&&!p,d.silent=!g&&!p,h&&u.on("click",function(){ae(h,"_"+r.get("target"))}),g&&d.on("click",function(){ae(g,"_"+r.get("subtarget"))}),ne(u).eventData=ne(d).eventData=p?{componentType:"title",componentIndex:r.componentIndex}:null,i.add(u),c&&i.add(d);var x=i.getBoundingRect(),M=r.getBoxLayoutParams();M.width=x.width,M.height=x.height;var y=_e(M,{width:a.getWidth(),height:a.getHeight()},r.get("padding"));v||(v=r.get("left")||r.get("right"),v==="middle"&&(v="center"),v==="right"?y.x+=y.width:v==="center"&&(y.x+=y.width/2)),l||(l=r.get("top")||r.get("bottom"),l==="center"&&(l="middle"),l==="bottom"?y.y+=y.height:l==="middle"&&(y.y+=y.height/2),l=l||"top"),i.x=y.x,i.y=y.y,i.markRedraw();var A={align:v,verticalAlign:l};u.setStyle(A),d.setStyle(A),x=i.getBoundingRect();var C=y.margin,m=r.getItemStyle(["color","opacity"]);m.fill=r.get("backgroundColor");var I=new it({shape:{x:x.x-C[3],y:x.y-C[0],width:x.width+C[1]+C[3],height:x.height+C[0]+C[2],r:r.get("borderRadius")},style:m,subPixelOptimize:!0,silent:!0});i.add(I)}},t.type="title",t}(Ee);function cn(e){e.registerComponentModel(wa),e.registerComponentView(Ga)}function hn(e,t){var r=e.mapDimensionsAll("defaultedLabel"),n=r.length;if(n===1){var a=ie(e,t,r[0]);return a!=null?a+"":null}else if(n){for(var i=[],o=0;o<r.length;o++)i.push(ie(e,t,r[o]));return i.join(" ")}}function gn(e,t){var r=e.mapDimensionsAll("defaultedLabel");if(!z(t))return t+"";for(var n=[],a=0;a<r.length;a++){var i=e.getDimensionIndex(r[a]);i>=0&&n.push(t[i])}return n.join(" ")}function pn(e,t){return e.type===t}function Pa(e,t,r,n,a){var i=e.getArea(),o=i.x,s=i.y,v=i.width,l=i.height,u=r.get(["lineStyle","width"])||2;o-=u/2,s-=u/2,v+=u,l+=u,o=Math.floor(o),v=Math.round(v);var f=new it({shape:{x:o,y:s,width:v,height:l}});if(t){var c=e.getBaseAxis(),d=c.isHorizontal(),h=c.inverse;d?(h&&(f.shape.x+=v),f.shape.width=0):(h||(f.shape.y+=l),f.shape.height=0);var g=nt(a)?function(p){a(p,f)}:null;Rt(f,{shape:{width:v,height:l,x:o,y:s}},r,null,n,g)}return f}function Ra(e,t,r){var n=e.getArea(),a=Z(n.r0,1),i=Z(n.r,1),o=new bt({shape:{cx:Z(e.cx,1),cy:Z(e.cy,1),r0:a,r:i,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(t){var s=e.getBaseAxis().dim==="angle";s?o.shape.endAngle=n.startAngle:o.shape.r=a,Rt(o,{shape:{endAngle:n.endAngle,r:i}},r)}return o}function yn(e,t,r,n,a){if(e){if(e.type==="polar")return Ra(e,t,r);if(e.type==="cartesian2d")return Pa(e,t,r,n,a)}else return null;return null}var ka={average:function(e){for(var t=0,r=0,n=0;n<e.length;n++)isNaN(e[n])||(t+=e[n],r++);return r===0?NaN:t/r},sum:function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r]||0;return t},max:function(e){for(var t=-1/0,r=0;r<e.length;r++)e[r]>t&&(t=e[r]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,r=0;r<e.length;r++)e[r]<t&&(t=e[r]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},Oa=function(e){return Math.round(e.length/2)};function xn(e){return{seriesType:e,reset:function(t,r,n){var a=t.getData(),i=t.get("sampling"),o=t.coordinateSystem,s=a.count();if(s>10&&o.type==="cartesian2d"&&i){var v=o.getBaseAxis(),l=o.getOtherAxis(v),u=v.getExtent(),f=n.getDevicePixelRatio(),c=Math.abs(u[1]-u[0])*(f||1),d=Math.round(s/c);if(isFinite(d)&&d>1){i==="lttb"&&t.setData(a.lttbDownSample(a.mapDimension(l.dim),1/d));var h=void 0;Gr(i)?h=ka[i]:nt(i)&&(h=i),h&&t.setData(a.downSample(a.mapDimension(l.dim),1/d,h,Oa))}}}}}var F=Pr.CMD;function J(e,t){return Math.abs(e-t)<1e-5}function _t(e){var t=e.data,r=e.len(),n=[],a,i=0,o=0,s=0,v=0;function l(_,w){a&&a.length>2&&n.push(a),a=[_,w]}function u(_,w,G,L){J(_,G)&&J(w,L)||a.push(_,w,G,L,G,L)}function f(_,w,G,L,k,O){var N=Math.abs(w-_),H=Math.tan(N/4)*4/3,U=w<_?-1:1,Bt=Math.cos(_),Ft=Math.sin(_),Zt=Math.cos(w),zt=Math.sin(w),Xe=Bt*k+G,qe=Ft*O+L,Ht=Zt*k+G,Wt=zt*O+L,Ut=k*H*U,$t=O*H*U;a.push(Xe-Ut*Ft,qe+$t*Bt,Ht+Ut*zt,Wt-$t*Zt,Ht,Wt)}for(var c,d,h,g,p=0;p<r;){var x=t[p++],M=p===1;switch(M&&(i=t[p],o=t[p+1],s=i,v=o,(x===F.L||x===F.C||x===F.Q)&&(a=[s,v])),x){case F.M:i=s=t[p++],o=v=t[p++],l(s,v);break;case F.L:c=t[p++],d=t[p++],u(i,o,c,d),i=c,o=d;break;case F.C:a.push(t[p++],t[p++],t[p++],t[p++],i=t[p++],o=t[p++]);break;case F.Q:c=t[p++],d=t[p++],h=t[p++],g=t[p++],a.push(i+2/3*(c-i),o+2/3*(d-o),h+2/3*(c-h),g+2/3*(d-g),h,g),i=h,o=g;break;case F.A:var y=t[p++],A=t[p++],C=t[p++],m=t[p++],I=t[p++],b=t[p++]+I;p+=1;var T=!t[p++];c=Math.cos(I)*C+y,d=Math.sin(I)*m+A,M?(s=c,v=d,l(s,v)):u(i,o,c,d),i=Math.cos(b)*C+y,o=Math.sin(b)*m+A;for(var S=(T?-1:1)*Math.PI/2,E=I;T?E>b:E<b;E+=S){var R=T?Math.max(E+S,b):Math.min(E+S,b);f(E,R,y,A,C,m)}break;case F.R:s=i=t[p++],v=o=t[p++],c=s+t[p++],d=v+t[p++],l(c,v),u(c,v,c,d),u(c,d,s,d),u(s,d,s,v),u(s,v,c,v);break;case F.Z:a&&u(i,o,s,v),i=s,o=v;break}}return a&&a.length>2&&n.push(a),n}function Et(e,t,r,n,a,i,o,s,v,l){if(J(e,r)&&J(t,n)&&J(a,o)&&J(i,s)){v.push(o,s);return}var u=2/l,f=u*u,c=o-e,d=s-t,h=Math.sqrt(c*c+d*d);c/=h,d/=h;var g=r-e,p=n-t,x=a-o,M=i-s,y=g*g+p*p,A=x*x+M*M;if(y<f&&A<f){v.push(o,s);return}var C=c*g+d*p,m=-c*x-d*M,I=y-C*C,b=A-m*m;if(I<f&&C>=0&&b<f&&m>=0){v.push(o,s);return}var T=[],S=[];st(e,r,a,o,.5,T),st(t,n,i,s,.5,S),Et(T[0],S[0],T[1],S[1],T[2],S[2],T[3],S[3],v,l),Et(T[4],S[4],T[5],S[5],T[6],S[6],T[7],S[7],v,l)}function Na(e,t){var r=_t(e),n=[];t=t||1;for(var a=0;a<r.length;a++){var i=r[a],o=[],s=i[0],v=i[1];o.push(s,v);for(var l=2;l<i.length;){var u=i[l++],f=i[l++],c=i[l++],d=i[l++],h=i[l++],g=i[l++];Et(s,v,u,f,c,d,h,g,o,t),s=h,v=g}n.push(o)}return n}function Ze(e,t,r){var n=e[t],a=e[1-t],i=Math.abs(n/a),o=Math.ceil(Math.sqrt(i*r)),s=Math.floor(r/o);s===0&&(s=1,o=r);for(var v=[],l=0;l<o;l++)v.push(s);var u=o*s,f=r-u;if(f>0)for(var l=0;l<f;l++)v[l%o]+=1;return v}function ge(e,t,r){for(var n=e.r0,a=e.r,i=e.startAngle,o=e.endAngle,s=Math.abs(o-i),v=s*a,l=a-n,u=v>Math.abs(l),f=Ze([v,l],u?0:1,t),c=(u?s:l)/f.length,d=0;d<f.length;d++)for(var h=(u?l:s)/f[d],g=0;g<f[d];g++){var p={};u?(p.startAngle=i+c*d,p.endAngle=i+c*(d+1),p.r0=n+h*g,p.r=n+h*(g+1)):(p.startAngle=i+h*g,p.endAngle=i+h*(g+1),p.r0=n+c*d,p.r=n+c*(d+1)),p.clockwise=e.clockwise,p.cx=e.cx,p.cy=e.cy,r.push(p)}}function Va(e,t,r){for(var n=e.width,a=e.height,i=n>a,o=Ze([n,a],i?0:1,t),s=i?"width":"height",v=i?"height":"width",l=i?"x":"y",u=i?"y":"x",f=e[s]/o.length,c=0;c<o.length;c++)for(var d=e[v]/o[c],h=0;h<o[c];h++){var g={};g[l]=c*f,g[u]=h*d,g[s]=f,g[v]=d,g.x+=e.x,g.y+=e.y,r.push(g)}}function pe(e,t,r,n){return e*n-r*t}function Ba(e,t,r,n,a,i,o,s){var v=r-e,l=n-t,u=o-a,f=s-i,c=pe(u,f,v,l);if(Math.abs(c)<1e-6)return null;var d=e-a,h=t-i,g=pe(d,h,u,f)/c;return g<0||g>1?null:new j(g*v+e,g*l+t)}function Fa(e,t,r){var n=new j;j.sub(n,r,t),n.normalize();var a=new j;j.sub(a,e,t);var i=a.dot(n);return i}function K(e,t){var r=e[e.length-1];r&&r[0]===t[0]&&r[1]===t[1]||e.push(t)}function Za(e,t,r){for(var n=e.length,a=[],i=0;i<n;i++){var o=e[i],s=e[(i+1)%n],v=Ba(o[0],o[1],s[0],s[1],t.x,t.y,r.x,r.y);v&&a.push({projPt:Fa(v,t,r),pt:v,idx:i})}if(a.length<2)return[{points:e},{points:e}];a.sort(function(p,x){return p.projPt-x.projPt});var l=a[0],u=a[a.length-1];if(u.idx<l.idx){var f=l;l=u,u=f}for(var c=[l.pt.x,l.pt.y],d=[u.pt.x,u.pt.y],h=[c],g=[d],i=l.idx+1;i<=u.idx;i++)K(h,e[i].slice());K(h,d),K(h,c);for(var i=u.idx+1;i<=l.idx+n;i++)K(g,e[i%n].slice());return K(g,c),K(g,d),[{points:h},{points:g}]}function ye(e){var t=e.points,r=[],n=[];we(t,r,n);var a=new Ct(r[0],r[1],n[0]-r[0],n[1]-r[1]),i=a.width,o=a.height,s=a.x,v=a.y,l=new j,u=new j;return i>o?(l.x=u.x=s+i/2,l.y=v,u.y=v+o):(l.y=u.y=v+o/2,l.x=s,u.x=s+i),Za(t,l,u)}function lt(e,t,r,n){if(r===1)n.push(t);else{var a=Math.floor(r/2),i=e(t);lt(e,i[0],a,n),lt(e,i[1],r-a,n)}return n}function za(e,t){for(var r=[],n=0;n<t;n++)r.push(kt(e));return r}function Ha(e,t){t.setStyle(e.style),t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel}function Wa(e){for(var t=[],r=0;r<e.length;)t.push([e[r++],e[r++]]);return t}function Ua(e,t){var r=[],n=e.shape,a;switch(e.type){case"rect":Va(n,t,r),a=it;break;case"sector":ge(n,t,r),a=bt;break;case"circle":ge({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},t,r),a=bt;break;default:var i=e.getComputedTransform(),o=i?Math.sqrt(Math.max(i[0]*i[0]+i[1]*i[1],i[2]*i[2]+i[3]*i[3])):1,s=P(Na(e.getUpdatedPathProxy(),o),function(x){return Wa(x)}),v=s.length;if(v===0)lt(ye,{points:s[0]},t,r);else if(v===t)for(var l=0;l<v;l++)r.push({points:s[l]});else{var u=0,f=P(s,function(x){var M=[],y=[];we(x,M,y);var A=(y[1]-M[1])*(y[0]-M[0]);return u+=A,{poly:x,area:A}});f.sort(function(x,M){return M.area-x.area});for(var c=t,l=0;l<v;l++){var d=f[l];if(c<=0)break;var h=l===v-1?c:Math.ceil(d.area/u*t);h<0||(lt(ye,{points:d.poly},h,r),c-=h)}}a=Rr;break}if(!a)return za(e,t);for(var g=[],l=0;l<r.length;l++){var p=new a;p.setShape(r[l]),Ha(e,p),g.push(p)}return g}function $a(e,t){var r=e.length,n=t.length;if(r===n)return[e,t];for(var a=[],i=[],o=r<n?e:t,s=Math.min(r,n),v=Math.abs(n-r)/6,l=(s-2)/6,u=Math.ceil(v/l)+1,f=[o[0],o[1]],c=v,d=2;d<s;){var h=o[d-2],g=o[d-1],p=o[d++],x=o[d++],M=o[d++],y=o[d++],A=o[d++],C=o[d++];if(c<=0){f.push(p,x,M,y,A,C);continue}for(var m=Math.min(c,u-1)+1,I=1;I<=m;I++){var b=I/m;st(h,p,M,A,b,a),st(g,x,y,C,b,i),h=a[3],g=i[3],f.push(a[1],i[1],a[2],i[2],h,g),p=a[5],x=i[5],M=a[6],y=i[6]}c-=m-1}return o===e?[f,t]:[e,f]}function xe(e,t){for(var r=e.length,n=e[r-2],a=e[r-1],i=[],o=0;o<t.length;)i[o++]=n,i[o++]=a;return i}function Xa(e,t){for(var r,n,a,i=[],o=[],s=0;s<Math.max(e.length,t.length);s++){var v=e[s],l=t[s],u=void 0,f=void 0;v?l?(r=$a(v,l),u=r[0],f=r[1],n=u,a=f):(f=xe(a||v,v),u=v):(u=xe(n||l,l),f=l),i.push(u),o.push(f)}return[i,o]}function me(e){for(var t=0,r=0,n=0,a=e.length,i=0,o=a-2;i<a;o=i,i+=2){var s=e[o],v=e[o+1],l=e[i],u=e[i+1],f=s*u-l*v;t+=f,r+=(s+l)*f,n+=(v+u)*f}return t===0?[e[0]||0,e[1]||0]:[r/t/3,n/t/3,t]}function qa(e,t,r,n){for(var a=(e.length-2)/6,i=1/0,o=0,s=e.length,v=s-2,l=0;l<a;l++){for(var u=l*6,f=0,c=0;c<s;c+=2){var d=c===0?u:(u+c-2)%v+2,h=e[d]-r[0],g=e[d+1]-r[1],p=t[c]-n[0],x=t[c+1]-n[1],M=p-h,y=x-g;f+=M*M+y*y}f<i&&(i=f,o=l)}return o}function ja(e){for(var t=[],r=e.length,n=0;n<r;n+=2)t[n]=e[r-n-2],t[n+1]=e[r-n-1];return t}function Ya(e,t,r,n){for(var a=[],i,o=0;o<e.length;o++){var s=e[o],v=t[o],l=me(s),u=me(v);i==null&&(i=l[2]<0!=u[2]<0);var f=[],c=[],d=0,h=1/0,g=[],p=s.length;i&&(s=ja(s));for(var x=qa(s,v,l,u)*6,M=p-2,y=0;y<M;y+=2){var A=(x+y)%M+2;f[y+2]=s[A]-l[0],f[y+3]=s[A+1]-l[1]}if(f[0]=s[x]-l[0],f[1]=s[x+1]-l[1],r>0)for(var C=n/r,m=-n/2;m<=n/2;m+=C){for(var I=Math.sin(m),b=Math.cos(m),T=0,y=0;y<s.length;y+=2){var S=f[y],E=f[y+1],R=v[y]-u[0],_=v[y+1]-u[1],w=R*b-_*I,G=R*I+_*b;g[y]=w,g[y+1]=G;var L=w-S,k=G-E;T+=L*L+k*k}if(T<h){h=T,d=m;for(var O=0;O<g.length;O++)c[O]=g[O]}}else for(var N=0;N<p;N+=2)c[N]=v[N]-u[0],c[N+1]=v[N+1]-u[1];a.push({from:f,to:c,fromCp:l,toCp:u,rotation:-d})}return a}function vt(e){return e.__isCombineMorphing}var ze="__mOriginal_";function ut(e,t,r){var n=ze+t,a=e[n]||e[t];e[n]||(e[n]=e[t]);var i=r.replace,o=r.after,s=r.before;e[t]=function(){var v=arguments,l;return s&&s.apply(this,v),i?l=i.apply(this,v):l=a.apply(this,v),o&&o.apply(this,v),l}}function rt(e,t){var r=ze+t;e[r]&&(e[t]=e[r],e[r]=null)}function Ae(e,t){for(var r=0;r<e.length;r++)for(var n=e[r],a=0;a<n.length;){var i=n[a],o=n[a+1];n[a++]=t[0]*i+t[2]*o+t[4],n[a++]=t[1]*i+t[3]*o+t[5]}}function He(e,t){var r=e.getUpdatedPathProxy(),n=t.getUpdatedPathProxy(),a=Xa(_t(r),_t(n)),i=a[0],o=a[1],s=e.getComputedTransform(),v=t.getComputedTransform();function l(){this.transform=null}s&&Ae(i,s),v&&Ae(o,v),ut(t,"updateTransform",{replace:l}),t.transform=null;var u=Ya(i,o,10,Math.PI),f=[];ut(t,"buildPath",{replace:function(c){for(var d=t.__morphT,h=1-d,g=[],p=0;p<u.length;p++){var x=u[p],M=x.from,y=x.to,A=x.rotation*d,C=x.fromCp,m=x.toCp,I=Math.sin(A),b=Math.cos(A);Or(g,C,m,d);for(var T=0;T<M.length;T+=2){var S=M[T],E=M[T+1],R=y[T],_=y[T+1],w=S*h+R*d,G=E*h+_*d;f[T]=w*b-G*I+g[0],f[T+1]=w*I+G*b+g[1]}var L=f[0],k=f[1];c.moveTo(L,k);for(var T=2;T<M.length;){var R=f[T++],_=f[T++],O=f[T++],N=f[T++],H=f[T++],U=f[T++];L===R&&k===_&&O===H&&N===U?c.lineTo(H,U):c.bezierCurveTo(R,_,O,N,H,U),L=H,k=U}}}})}function Vt(e,t,r){if(!e||!t)return t;var n=r.done,a=r.during;He(e,t),t.__morphT=0;function i(){rt(t,"buildPath"),rt(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return t.animateTo({__morphT:1},V({during:function(o){t.dirtyShape(),a&&a(o)},done:function(){i(),n&&n()}},r)),t}function Ka(e,t,r,n,a,i){var o=16;e=a===r?0:Math.round(32767*(e-r)/(a-r)),t=i===n?0:Math.round(32767*(t-n)/(i-n));for(var s=0,v,l=(1<<o)/2;l>0;l/=2){var u=0,f=0;(e&l)>0&&(u=1),(t&l)>0&&(f=1),s+=l*l*(3*u^f),f===0&&(u===1&&(e=l-1-e,t=l-1-t),v=e,e=t,t=v)}return s}function ft(e){var t=1/0,r=1/0,n=-1/0,a=-1/0,i=P(e,function(s){var v=s.getBoundingRect(),l=s.getComputedTransform(),u=v.x+v.width/2+(l?l[4]:0),f=v.y+v.height/2+(l?l[5]:0);return t=Math.min(u,t),r=Math.min(f,r),n=Math.max(u,n),a=Math.max(f,a),[u,f]}),o=P(i,function(s,v){return{cp:s,z:Ka(s[0],s[1],t,r,n,a),path:e[v]}});return o.sort(function(s,v){return s.z-v.z}).map(function(s){return s.path})}function We(e){return Ua(e.path,e.count)}function wt(){return{fromIndividuals:[],toIndividuals:[],count:0}}function Qa(e,t,r){var n=[];function a(C){for(var m=0;m<C.length;m++){var I=C[m];vt(I)?a(I.childrenRef()):I instanceof ot&&n.push(I)}}a(e);var i=n.length;if(!i)return wt();var o=r.dividePath||We,s=o({path:t,count:i});if(s.length!==i)return console.error("Invalid morphing: unmatched splitted path"),wt();n=ft(n),s=ft(s);for(var v=r.done,l=r.during,u=r.individualDelay,f=new kr,c=0;c<i;c++){var d=n[c],h=s[c];h.parent=t,h.copyTransform(f),u||He(d,h)}t.__isCombineMorphing=!0,t.childrenRef=function(){return s};function g(C){for(var m=0;m<s.length;m++)s[m].addSelfToZr(C)}ut(t,"addSelfToZr",{after:function(C){g(C)}}),ut(t,"removeSelfFromZr",{after:function(C){for(var m=0;m<s.length;m++)s[m].removeSelfFromZr(C)}});function p(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,rt(t,"addSelfToZr"),rt(t,"removeSelfFromZr")}var x=s.length;if(u)for(var M=x,y=function(){M--,M===0&&(p(),v&&v())},c=0;c<x;c++){var A=u?V({delay:(r.delay||0)+u(c,x,n[c],s[c]),done:y},r):r;Vt(n[c],s[c],A)}else t.__morphT=0,t.animateTo({__morphT:1},V({during:function(C){for(var m=0;m<x;m++){var I=s[m];I.__morphT=t.__morphT,I.dirtyShape()}l&&l(C)},done:function(){p();for(var C=0;C<e.length;C++)rt(e[C],"updateTransform");v&&v()}},r));return t.__zr&&g(t.__zr),{fromIndividuals:n,toIndividuals:s,count:x}}function Ja(e,t,r){var n=t.length,a=[],i=r.dividePath||We;function o(d){for(var h=0;h<d.length;h++){var g=d[h];vt(g)?o(g.childrenRef()):g instanceof ot&&a.push(g)}}if(vt(e)){o(e.childrenRef());var s=a.length;if(s<n)for(var v=0,l=s;l<n;l++)a.push(kt(a[v++%s]));a.length=n}else{a=i({path:e,count:n});for(var u=e.getComputedTransform(),l=0;l<a.length;l++)a[l].setLocalTransform(u);if(a.length!==n)return console.error("Invalid morphing: unmatched splitted path"),wt()}a=ft(a),t=ft(t);for(var f=r.individualDelay,l=0;l<n;l++){var c=f?V({delay:(r.delay||0)+f(l,n,a[l],t[l])},r):r;Vt(a[l],t[l],c)}return{fromIndividuals:a,toIndividuals:t,count:t.length}}function Me(e){return z(e[0])}function Ce(e,t){for(var r=[],n=e.length,a=0;a<n;a++)r.push({one:e[a],many:[]});for(var a=0;a<t.length;a++){var i=t[a].length,o=void 0;for(o=0;o<i;o++)r[o%n].many.push(t[a][o])}for(var s=0,a=n-1;a>=0;a--)if(!r[a].many.length){var v=r[s].many;if(v.length<=1)if(s)s=0;else return r;var i=v.length,l=Math.ceil(i/2);r[a].many=v.slice(l,i),r[s].many=v.slice(0,l),s++}return r}var tn={clone:function(e){for(var t=[],r=1-Math.pow(1-e.path.style.opacity,1/e.count),n=0;n<e.count;n++){var a=kt(e.path);a.setStyle("opacity",r),t.push(a)}return t},split:null};function xt(e,t,r,n,a,i){if(!e.length||!t.length)return;var o=Ot("update",n,a);if(!(o&&o.duration>0))return;var s=n.getModel("universalTransition").get("delay"),v=Object.assign({setToFinal:!0},o),l,u;Me(e)&&(l=e,u=t),Me(t)&&(l=t,u=e);function f(x,M,y,A,C){var m=x.many,I=x.one;if(m.length===1&&!C){var b=M?m[0]:I,T=M?I:m[0];if(vt(b))f({many:[b],one:T},!0,y,A,!0);else{var S=s?V({delay:s(y,A)},v):v;Vt(b,T,S),i(b,T,b,T,S)}}else for(var E=V({dividePath:tn[r],individualDelay:s&&function(k,O,N,H){return s(k+y,A)}},v),R=M?Qa(m,I,E):Ja(I,m,E),_=R.fromIndividuals,w=R.toIndividuals,G=_.length,L=0;L<G;L++){var S=s?V({delay:s(L,G)},v):v;i(_[L],w[L],M?m[L]:x.one,M?x.one:m[L],S)}}for(var c=l?l===e:e.length>t.length,d=l?Ce(u,l):Ce(c?t:e,[c?e:t]),h=0,g=0;g<d.length;g++)h+=d[g].many.length;for(var p=0,g=0;g<d.length;g++)f(d[g],c,p,h),p+=d[g].many.length}function $(e){if(!e)return[];if(z(e)){for(var t=[],r=0;r<e.length;r++)t.push($(e[r]));return t}var n=[];return e.traverse(function(a){a instanceof ot&&!a.disableMorphing&&!a.invisible&&!a.ignore&&n.push(a)}),n}var Ue=1e4,en=Gt();function rn(e){for(var t=e.dimensions,r=0;r<t.length;r++){var n=e.getDimensionInfo(t[r]);if(n&&n.otherDims.itemGroupId===0)return t[r]}}function Ie(e){var t=[];return D(e,function(r){var n=r.data;if(!(n.count()>Ue))for(var a=n.getIndices(),i=rn(n),o=0;o<a.length;o++)t.push({dataGroupId:r.dataGroupId,data:n,dim:r.dim||i,divide:r.divide,dataIndex:o})}),t}function mt(e,t,r){e.traverse(function(n){n instanceof ot&&Rt(n,{style:{opacity:0}},t,{dataIndex:r,isFrom:!0})})}function At(e){if(e.parent){var t=e.getComputedTransform();e.setLocalTransform(t),e.parent.remove(e)}}function Q(e){e.stopAnimation(),e.isGroup&&e.traverse(function(t){t.stopAnimation()})}function an(e,t,r){var n=Ot("update",r,t);n&&e.traverse(function(a){if(a instanceof Nr){var i=Vr(a);i&&a.animateFrom({style:i},n)}})}function nn(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++){var a=e[n],i=t[n];if(a.data.getId(a.dataIndex)!==i.data.getId(i.dataIndex))return!1}return!0}function $e(e,t,r){var n=Ie(e),a=Ie(t);function i(x,M,y,A,C){(y||x)&&M.animateFrom({style:y&&y!==x?Tt(Tt({},y.style),x.style):x.style},C)}function o(x){for(var M=0;M<x.length;M++)if(x[M].dim)return x[M].dim}var s=o(n),v=o(a),l=!1;function u(x,M){return function(y){var A=y.data,C=y.dataIndex;if(M)return A.getId(C);var m=y.dataGroupId,I=x?s||v:v||s,b=I&&A.getDimensionInfo(I),T=b&&b.ordinalMeta;if(b){var S=A.get(b.name,C);return T&&T.categories[S]||S+""}var E=A.getRawDataItem(C);return E&&E.groupId?E.groupId+"":m||A.getId(C)}}var f=nn(n,a),c={};if(!f)for(var d=0;d<a.length;d++){var h=a[d],g=h.data.getItemGraphicEl(h.dataIndex);g&&(c[g.id]=!0)}function p(x,M){var y=n[M],A=a[x],C=A.data.hostModel,m=y.data.getItemGraphicEl(y.dataIndex),I=A.data.getItemGraphicEl(A.dataIndex);if(m===I){I&&an(I,A.dataIndex,C);return}m&&c[m.id]||I&&(Q(I),m?(Q(m),At(m),l=!0,xt($(m),$(I),A.divide,C,x,i)):mt(I,C,x))}new oe(n,a,u(!0,f),u(!1,f),null,"multiple").update(p).updateManyToOne(function(x,M){var y=a[x],A=y.data,C=A.hostModel,m=A.getItemGraphicEl(y.dataIndex),I=Mt(P(M,function(b){return n[b].data.getItemGraphicEl(n[b].dataIndex)}),function(b){return b&&b!==m&&!c[b.id]});m&&(Q(m),I.length?(D(I,function(b){Q(b),At(b)}),l=!0,xt($(I),$(m),y.divide,C,x,i)):mt(m,C,y.dataIndex))}).updateOneToMany(function(x,M){var y=n[M],A=y.data.getItemGraphicEl(y.dataIndex);if(!(A&&c[A.id])){var C=Mt(P(x,function(I){return a[I].data.getItemGraphicEl(a[I].dataIndex)}),function(I){return I&&I!==A}),m=a[x[0]].data.hostModel;C.length&&(D(C,function(I){return Q(I)}),A?(Q(A),At(A),l=!0,xt($(A),$(C),y.divide,m,x[0],i)):D(C,function(I){return mt(I,m,x[0])}))}}).updateManyToMany(function(x,M){new oe(M,x,function(y){return n[y].data.getId(n[y].dataIndex)},function(y){return a[y].data.getId(a[y].dataIndex)}).update(function(y,A){p(x[y],M[A])}).execute()}).execute(),l&&D(t,function(x){var M=x.data,y=M.hostModel,A=y&&r.getViewOfSeriesModel(y),C=Ot("update",y,0);A&&y.isAnimationEnabled()&&C&&C.duration>0&&A.group.traverse(function(m){m instanceof ot&&!m.animators.length&&m.animateFrom({style:{opacity:0}},C)})})}function Te(e){var t=e.getModel("universalTransition").get("seriesKey");return t||e.id}function be(e){return z(e)?e.sort().join(","):e}function W(e){if(e.hostModel)return e.hostModel.getModel("universalTransition").get("divideShape")}function on(e,t){var r=tt(),n=tt(),a=tt();return D(e.oldSeries,function(i,o){var s=e.oldDataGroupIds[o],v=e.oldData[o],l=Te(i),u=be(l);n.set(u,{dataGroupId:s,data:v}),z(l)&&D(l,function(f){a.set(f,{key:u,dataGroupId:s,data:v})})}),D(t.updatedSeries,function(i){if(i.isUniversalTransitionEnabled()&&i.isAnimationEnabled()){var o=i.get("dataGroupId"),s=i.getData(),v=Te(i),l=be(v),u=n.get(l);if(u)r.set(l,{oldSeries:[{dataGroupId:u.dataGroupId,divide:W(u.data),data:u.data}],newSeries:[{dataGroupId:o,divide:W(s),data:s}]});else if(z(v)){var f=[];D(v,function(h){var g=n.get(h);g.data&&f.push({dataGroupId:g.dataGroupId,divide:W(g.data),data:g.data})}),f.length&&r.set(l,{oldSeries:f,newSeries:[{dataGroupId:o,data:s,divide:W(s)}]})}else{var c=a.get(v);if(c){var d=r.get(c.key);d||(d={oldSeries:[{dataGroupId:c.dataGroupId,data:c.data,divide:W(c.data)}],newSeries:[]},r.set(c.key,d)),d.newSeries.push({dataGroupId:o,data:s,divide:W(s)})}}}}),r}function De(e,t){for(var r=0;r<e.length;r++){var n=t.seriesIndex!=null&&t.seriesIndex===e[r].seriesIndex||t.seriesId!=null&&t.seriesId===e[r].id;if(n)return r}}function sn(e,t,r,n){var a=[],i=[];D(et(e.from),function(o){var s=De(t.oldSeries,o);s>=0&&a.push({dataGroupId:t.oldDataGroupIds[s],data:t.oldData[s],divide:W(t.oldData[s]),dim:o.dimension})}),D(et(e.to),function(o){var s=De(r.updatedSeries,o);if(s>=0){var v=r.updatedSeries[s].getData();i.push({dataGroupId:t.oldDataGroupIds[s],data:v,divide:W(v),dim:o.dimension})}}),a.length>0&&i.length>0&&$e(a,i,n)}function mn(e){e.registerUpdateLifecycle("series:beforeupdate",function(t,r,n){D(et(n.seriesTransition),function(a){D(et(a.to),function(i){for(var o=n.updatedSeries,s=0;s<o.length;s++)(i.seriesIndex!=null&&i.seriesIndex===o[s].seriesIndex||i.seriesId!=null&&i.seriesId===o[s].id)&&(o[s][gt]=!0)})})}),e.registerUpdateLifecycle("series:transition",function(t,r,n){var a=en(r);if(a.oldSeries&&n.updatedSeries&&n.optionChanged){var i=n.seriesTransition;if(i)D(et(i),function(d){sn(d,a,n,r)});else{var o=on(a,n);D(o.keys(),function(d){var h=o.get(d);$e(h.oldSeries,h.newSeries,r)})}D(n.updatedSeries,function(d){d[gt]&&(d[gt]=!1)})}for(var s=t.getSeries(),v=a.oldSeries=[],l=a.oldDataGroupIds=[],u=a.oldData=[],f=0;f<s.length;f++){var c=s[f].getData();c.count()<Ue&&(v.push(s[f]),l.push(s[f].get("dataGroupId")),u.push(c))}})}export{un as C,gn as a,Pa as b,fn as c,Ra as d,xn as e,cn as f,hn as g,dn as h,pn as i,mn as j,yn as k};
